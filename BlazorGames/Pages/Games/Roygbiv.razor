@page "/roygbiv"
@using Models.Roygbiv

<PageTitle>ROYGBIV</PageTitle>

<h1>ROYGBIV</h1>

@if (GameInProgress)
{
	<button class="btn btn-secondary mb-4 disabled">Game in progress</button>
}
else
{
	<button class="btn btn-primary mb-4" @onclick="DealCards">Deal cards</button>
}


<div class="row">
	@if (DrawPileTopCard != null)
	{
		<div class="card @(DrawPileIsSelected ? "card-selected" : "")" @onclick="RevealDrawPile">
			@if (DrawPileIsRevealed)
			{
				@DrawPileTopCard.Value
			}
			else
			{
				@("???")
			}
		</div>
	}
	else
	{
		<div class="card">
			-
		</div>
	}

	<div class="card">
		-
	</div>
</div>

@foreach (Player player in Players)
{
	<h2>@player.Name @(player == ActivePlayer ? "(active)" : "")</h2>
	<div class="row">
		@foreach (Card card in player.Hand.Cards)
		{
			<div class="card">
				@card.Value
			</div>
		}
	</div>
}
