@page "/roygbiv"
@using Models.Roygbiv
@using BlazorGames.Components.Roygbiv

<PageTitle>ROYGBIV</PageTitle>

@if (!GameInProgress)
{
	<PlayerSelectionView OnClickEventCallback="(numPlayers) => StartGame(numPlayers)" />
}
else
{
	<CardPilesView InitialSwapsInProgress="@InitialSwapsInProgress"
				   DrawPileTopCard="@DrawPileTopCard"
				   DrawPileIsRevealed="@DrawPileIsRevealed"
				   DrawPileClickEventCallback="() => RevealDrawPile()"
				   DiscardPileTopCard="@DiscardPileTopCard"
				   DiscardPileIsSelected="@DiscardPileIsSelected"
				   DiscardPileClickEventCallback="() => SelectDiscardPile()" />

	<PlayersHandsView ActivePlayer="@ActivePlayer"
					  ActiveSwapCard="@ActiveSwapCard"
					  Players="@Players"
					  OnClickEventCallback="(playerCardSelection) => HandleHandCardClick(playerCardSelection.Player, playerCardSelection.Card)" />
}